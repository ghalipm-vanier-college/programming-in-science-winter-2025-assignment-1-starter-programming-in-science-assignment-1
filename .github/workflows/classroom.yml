name: Autograding Tests
'on':
- push
- repository_dispatch
permissions:
  checks: write
  actions: read
  contents: read
jobs:
  run-autograding-tests:
    runs-on: ubuntu-latest
    if: github.actor != 'github-classroom[bot]'
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    - name: test_built_in_functions_max
      id: test_built_in_functions_max
      uses: classroom-resources/autograding-command-grader@v1
      with:
        test-name: test_built_in_functions_max
        setup-command: pip install pytest
        command: pytest test_assignment1.py::test_built_in_functions_max
        timeout: 1
        max-score: 15
    - name: test_built_in_functions_min
      id: test_built_in_functions_min
      uses: classroom-resources/autograding-command-grader@v1
      with:
        test-name: test_built_in_functions_min
        setup-command: pip install pytest
        command: pytest test_assignment1.py::test_built_in_functions_min
        timeout: 1
        max-score: 15
    - name: test_check_number
      id: test_check_number
      uses: classroom-resources/autograding-command-grader@v1
      with:
        test-name: test_check_number
        setup-command: pip install pytest
        command: pytest test_assignment1.py::test_check_number
        timeout: 1
        max-score: 15
    - name: test_star_shape
      id: test_star_shape
      uses: classroom-resources/autograding-command-grader@v1
      with:
        test-name: test_star_shape
        setup-command: pip install pytest
        command: pytest test_assignment1.py::test_star_shape
        timeout: 1
        max-score: 15
    - name: test_count_multiples_of_3
      id: test_count_multiples_of_3
      uses: classroom-resources/autograding-command-grader@v1
      with:
        test-name: test_count_multiples_of_3
        setup-command: pip install pytest
        command: pytest test_assginment1.py::test_count_multiples_of_3
        timeout: 1
        max-score: 20
    - name: test_sum_of_even_numbers
      id: test_sum_of_even_numbers
      uses: classroom-resources/autograding-command-grader@v1
      with:
        test-name: test_sum_of_even_numbers
        setup-command: pip install pytest
        command: pytest test_assignment1.py::test_sum_of_even_numbers
        timeout: 1
        max-score: 20
    - name: Autograding Reporter
      uses: classroom-resources/autograding-grading-reporter@v1
      env:
        TEST_BUILT_IN_FUNCTIONS_MAX_RESULTS: "${{steps.test_built_in_functions_max.outputs.result}}"
        TEST_BUILT_IN_FUNCTIONS_MIN_RESULTS: "${{steps.test_built_in_functions_min.outputs.result}}"
        TEST_CHECK_NUMBER_RESULTS: "${{steps.test_check_number.outputs.result}}"
        TEST_STAR_SHAPE_RESULTS: "${{steps.test_star_shape.outputs.result}}"
        TEST_COUNT_MULTIPLES_OF_3_RESULTS: "${{steps.test_count_multiples_of_3.outputs.result}}"
        TEST_SUM_OF_EVEN_NUMBERS_RESULTS: "${{steps.test_sum_of_even_numbers.outputs.result}}"
      with:
        runners: test_built_in_functions_max,test_built_in_functions_min,test_check_number,test_star_shape,test_count_multiples_of_3,test_sum_of_even_numbers
